NAME		= CxImage

OUTPUT		= lib${NAME}.a

OBJECTS		= ximadsp.o  ximaexif.o  ximagif.o   ximainfo.o  ximajpg.o   ximalyr.o  ximapng.o  ximatga.o  ximatran.o ximabmp.o    ximaenc.o  ximage.o    ximahist.o  ximaint.o   ximalpha.o  ximapal.o  ximasel.o  ximath.o   xmemfile.o

CC		= @CC@

CFLAGS    	= -O2 @CFLAGS@ 

AR		= @AR@

AR_OPTIONS	= @AR_OPTIONS@

RANLIB		= @RANLIB@

.PHONY : all clean distclean

all : ${OUTPUT}

%.o: %.cpp
	$(CC) -c $(CFLAGS) $<

${OUTPUT}: ${OBJECTS}
	rm -f ${OUTPUT}
	${AR} ${AR_OPTIONS} $@ ${OBJECTS}
	${RANLIB} ${OUTPUT}

clean : 
	rm *.o ${OUTPUT} 2> /dev/null | true

distclean :
	rm *~ *.o ${OUTPUT} Makefile core 2>/dev/null | true
