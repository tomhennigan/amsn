NAME		= png

OUTPUT		= lib${NAME}.a

OBJECTS		= png.o pnggccrd.o  pngmem.o    pngread.o  pngrtran.o  pngset.o    pngvcrd.o  pngwrite.o  pngwutil.o pngerror.o  pngget.o pngpread.o  pngrio.o   pngrutil.o  pngtrans.o  pngwio.o   pngwtran.o

CC		= @CC@

CFLAGS    	= -O2 @CFLAGS@ 

AR		= @AR@

AR_OPTIONS	= @AR_OPTIONS@

RANLIB		= @RANLIB@

.PHONY : all clean distclean

all : ${OUTPUT}

%.o: %.c
	$(CC) -c $(CFLAGS) $<

${OUTPUT}: ${OBJECTS}
	rm -f ${OUTPUT}
	${AR} ${AR_OPTIONS} $@ ${OBJECTS}
	${RANLIB} ${OUTPUT}

clean : 
	rm *.o ${OUTPUT} 2> /dev/null | true

distclean :
	rm *~ *.o ${OUTPUT} Makefile core 2>/dev/null | true
