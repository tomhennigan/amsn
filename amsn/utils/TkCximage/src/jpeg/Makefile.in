NAME		= jpeg

OUTPUT		= lib${NAME}.a

OBJECTS		= jcapimin.o  jcdctmgr.o  jcmarker.o  jcphuff.o   jdapimin.o  jdcoefct.o  jdinput.o   jdmerge.o   jdtrans.o   jfdctint.o  jidctred.o  jquant2.o jcapistd.o  jchuff.o    jcmaster.o  jcprepct.o  jdapistd.o  jdcolor.o   jdmainct.o  jdphuff.o   jerror.o    jidctflt.o  jmemmgr.o   jutils.o jccoefct.o  jcinit.o    jcomapi.o   jcsample.o  jdatadst.o  jddctmgr.o  jdmarker.o  jdpostct.o  jfdctflt.o  jidctfst.o  jmemnobs.o jccolor.o   jcmainct.o  jcparam.o   jctrans.o   jdatasrc.o  jdhuff.o    jdmaster.o  jdsample.o  jfdctfst.o  jidctint.o  jquant1.o

CC		= @CC@

CFLAGS    	= -O2 @CFLAGS@ 

AR		= @AR@

AR_OPTIONS	= @AR_OPTIONS@

RANLIB		= @RANLIB@

.PHONY : all clean distclean

all : ${OUTPUT}

%.o: %.c
	$(CC) -c $(CFLAGS) $<

${OUTPUT}: ${OBJECTS}
	rm -f ${OUTPUT}
	${AR} ${AR_OPTIONS} $@ ${OBJECTS}
	${RANLIB} ${OUTPUT}

clean : 
	rm *.o ${OUTPUT} 2> /dev/null | true

distclean :
	rm *~ *.o ${OUTPUT} Makefile core 2>/dev/null | true
