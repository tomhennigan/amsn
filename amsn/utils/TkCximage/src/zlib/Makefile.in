NAME		= zlib

OUTPUT		= lib${NAME}.a

OBJECTS		= adler32.o  compress.o  crc32.o  deflate.o  gzio.o  infback.o  inffast.o  inflate.o  inftrees.o  trees.o  uncompr.o  zutil.o

CC		= @CC@

CFLAGS    	= -O2 @CFLAGS@ 

AR		= @AR@

AR_OPTIONS	= @AR_OPTIONS@

RANLIB		= @RANLIB@

.PHONY : all clean distclean

all : ${OUTPUT}

%.o: %.c
	$(CC) -c $(CFLAGS) $<

${OUTPUT}: ${OBJECTS}
	rm -f ${OUTPUT}
	${AR} ${AR_OPTIONS} $@ ${OBJECTS}
	${RANLIB} ${OUTPUT}

clean : 
	rm *.o ${OUTPUT} 2> /dev/null | true

distclean :
	rm *~ *.o ${OUTPUT} Makefile core 2>/dev/null | true
